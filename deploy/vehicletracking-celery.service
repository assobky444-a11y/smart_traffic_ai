[Unit]
Description=Celery Worker for Vehicle Tracking
After=network.target

[Service]
Type=simple
User=vehicletracking
Group=vehicletracking
WorkingDirectory=/opt/vehicles_tracking
EnvironmentFile=/etc/vehicletracking/vehicletracking.env
Environment="PATH=/opt/vehicles_tracking/venv/bin:/usr/local/bin:/usr/bin"
ExecStart=/opt/vehicles_tracking/venv/bin/celery -A celery_worker.celery worker --loglevel=info --concurrency=2
Restart=on-failure
RestartSec=5
LimitNOFILE=65536

[Install]
WantedBy=multi-user.target
