# ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุชุญููู ๐ฏ

## ูุธุฑุฉ ุนุงูุฉ

A complete user and permissions management system has been added, with the ability to request analysis from management.

---

## ๐ ูุธุงู ุงููุณุชุฎุฏููู

### ููุนุงู ูู ุงููุณุชุฎุฏููู:

#### 1. **ุงููุณุชุฎุฏู ุงูุนุงุฏู (User)**
- โ ุชุณุฌูู ุฏุฎูู ูุฅูุดุงุก ุญุณุงุจ
- โ ุชุชุจุน ุงูููุฏูููุงุช
- โ ุฅุฑุณุงู ุทูุจุงุช ุงูุชุญููู
- โ ุงุณุชูุจุงู ุงููุชุงุฆุฌ ูู ุงูุฅุฏุงุฑุฉ
- โ ูุง ูุณุชุทูุน ุงููุตูู ูุตูุญุงุช ุงูุชุญููู ุงููุชูุฏู

#### 2. **ุงูุฅุฏุงุฑุฉ (Admin)**
- โ ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู ุงูุนุงุฏู
- โ ุงููุตูู ูุตูุญุฉ Data Analysis
- โ ุงููุตูู ูุตูุญุฉ Line Drawing
- โ ููุญุฉ ุชุญูู Admin Dashboard
- โ ูุนุงูุฌุฉ ุทูุจุงุช ุงูุชุญููู
- โ ุฅุถุงูุฉ ููุงุญุธุงุช ูููุณุชุฎุฏููู

---

## ๐ ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ

On first run, a default admin account is created:

```
Username: admin
Password: admin123
```

**โ๏ธ ููู:** ุบููุฑ ูููุฉ ุงููุฑูุฑ ุจุนุฏ ุฃูู ุชุณุฌูู ุฏุฎูู!

---

## ๐ ุขููุฉ ุงูุนูู

### ูููุณุชุฎุฏู ุงูุนุงุฏู:

1. **ุงูุชุณุฌูู/ุชุณุฌูู ุงูุฏุฎูู**
   - ุงูุชุญ: `http://localhost:5000/login`
   - ุฃู ุฃูุดุฆ ุญุณุงุจ ุฌุฏูุฏ: `http://localhost:5000/register`

2. **ุชุชุจุน ุงูููุฏูู**
   - ุงุฑูุน ุงูููุฏูู ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
   - ุงูุชุธุฑ ุญุชู ููุชูู ุงูุชุชุจุน
   - ุณุชุธูุฑ ุงููุชุงุฆุฌ (ุนุฏุฏ ุงููุฑูุจุงุชุ ุงูุฏูุฉุ ุฅูุฎ)

3. **ุทูุจ ุงูุชุญููู ุงูุชูุตููู**
   - ุจุนุฏ ุงูุชูุงุก ุงูุชุชุจุนุ ุณูุธูุฑ ุฒุฑ **"ุฅุฑุณุงู ุทูุจ ุงูุชุญููู"**
   - Click the button to go to the upload page
   - ุงุฑูุน:
     * ููู `Tracks.csv`
     * 3 ุตูุฑ (frames) ูู ุงูููุฏูู
   - ุงุถุบุท "ุฅุฑุณุงู ุงูุทูุจ"

4. **ุงูุชุธุงุฑ ุงููุชุงุฆุฌ**
   - ุณุชุฑู ุญุงูุฉ ุงูุทูุจ:
     * ๐ **ููุฏ ุงูุงูุชุธุงุฑ**: ุงูุฅุฏุงุฑุฉ ูู ุชุนุงูุฌ ุงูุทูุจ ุจุนุฏ
     * โ๏ธ **ููุฏ ุงููุนุงูุฌุฉ**: ุงูุฅุฏุงุฑุฉ ุชุนูู ุนูู ุงูุชุญููู
     * โ **Completed**: Analysis is ready!
   - ุนูุฏ ุงูุงูุชูุงูุ ุณุชุธูุฑ ุฃุฒุฑุงุฑ ุงูุชุญููู:
     * ุฎุฑูุทุฉ ุงูุญุฑุงุฑุฉ (Heatmap)
     * ูุธุฑุฉ ุนุงูุฉ (Overview)
     * ุงููุณุงุฑุงุช ุงูููููุฉ (Tracks)
     * ุชูุฒูุน ุงูุณุฑุนุงุช (Speed Histogram)
     * ุงูุงุชุฌุงูุงุช (Direction Chart)

---

### ููุฅุฏุงุฑุฉ (Admin):

1. **ุชุณุฌูู ุงูุฏุฎูู ูู Admin**
   ```
   Username: admin
   Password: admin123
   ```

2. **ููุญุฉ ุงูุชุญูู**
   - ูู ุงููุงุฆูุฉ ุงูุนูููุฉ: `Admin Dashboard`
   - ุณุชุฑู:
     * ุฅุญุตุงุฆูุงุช (ุทูุจุงุช ููุฏ ุงูุงูุชุธุงุฑ/ุงููุนุงูุฌุฉ/ุงูููุชููุฉ)
     * ุฌุฏูู ุจุฌููุน ุงูุทูุจุงุช

3. **ูุนุงูุฌุฉ ุงูุทูุจุงุช**
   - ุงุถุบุท **"ูุนุงูุฌุฉ"** ุนูู ุงูุทูุจ
   - ุณูุจุฏุฃ ุงููุธุงู ุชููุงุฆูุงู:
     * ูุฑุงุกุฉ ููู CSV
     * ุฅูุดุงุก ุงูุฑุณูู ุงูุจูุงููุฉ
     * ุญูุธ ุงููุชุงุฆุฌ
     * ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู "ููุชูู"

4. **ุฅุถุงูุฉ ููุงุญุธุงุช**
   - ุงุถุบุท **"ููุงุญุธุฉ"** ุนูู ุฃู ุทูุจ
   - ุงูุชุจ ุฑุณุงูุฉ ูููุณุชุฎุฏู
   - ุณูุฑุงูุง ุงููุณุชุฎุฏู ุนูุฏ ุนุฑุถ ุงููุชุงุฆุฌ

5. **ุนุฑุถ ุงูุชูุงุตูู**
   - ุงุถุบุท **"ุนุฑุถ"** ูุฑุคูุฉ:
     * ูุนูููุงุช ุงูุทูุจ
     * ุงูุตูุฑ ุงููุฑููุนุฉ
     * ุญุงูุฉ ุงูุทูุจ
     * ุงูููุงุญุธุงุช

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูุณุชุฎุฏู ุงููุธุงู **SQLite** (ููู `vehicle_tracking.db`):

### ุฌุฏูู Users
```sql
- id: ุฑูู ุงููุณุชุฎุฏู
- username: ุงุณู ุงููุณุชุฎุฏู
- password: ูููุฉ ุงููุฑูุฑ (ูุดูุฑุฉ)
- role: ุงูุฏูุฑ (user/admin)
- created_at: ุชุงุฑูุฎ ุงูุฅูุดุงุก
```

### ุฌุฏูู Analysis_Requests
```sql
- id: ุฑูู ุงูุทูุจ
- user_id: ุงููุณุชุฎุฏู ุตุงุญุจ ุงูุทูุจ
- csv_path: ูุณุงุฑ ููู CSV
- frame1_path, frame2_path, frame3_path: ูุณุงุฑุงุช ุงูุตูุฑ
- status: ุงูุญุงูุฉ (pending/processing/completed)
- results_path: ูุณุงุฑ ุงููุชุงุฆุฌ
- admin_notes: ููุงุญุธุงุช ุงูุฅุฏุงุฑุฉ
- created_at: ุชุงุฑูุฎ ุงูุฅุฑุณุงู
- completed_at: ุชุงุฑูุฎ ุงูุงูุชูุงู
```

---

## ๐ ูููู ุงููููุงุช

```
vehicle_tracking/
โโโ app.py                          # ุงูุชุทุจูู ุงูุฑุฆูุณู
โโโ vehicle_tracking.db             # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ templates/
โ   โโโ login.html                  # ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ register.html               # ุตูุญุฉ ุงูุชุณุฌูู
โ   โโโ index.html                  # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (ุงูุชุชุจุน)
โ   โโโ request_analysis.html       # ุตูุญุฉ ุทูุจ ุงูุชุญููู
โ   โโโ admin_dashboard.html        # ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ
โ   โโโ analysis.html               # ุตูุญุฉ ุงูุชุญููู (admin only)
โ   โโโ line_drawing.html           # ุตูุญุฉ ุฑุณู ุงูุฎุทูุท (admin only)
โโโ analysis_requests/              # ูุฌูุฏ ุทูุจุงุช ุงูุชุญููู
    โโโ [request_id]/
        โโโ tracks.csv
        โโโ frame1.jpg
        โโโ frame2.jpg
        โโโ frame3.jpg
        โโโ results/
            โโโ heatmap.png
            โโโ overview.png
            โโโ tracks.png
            โโโ speed.png
            โโโ direction.png
```

---

## ๐ ุงูุตูุงุญูุงุช ูุงูุญูุงูุฉ

### Routes ุงููุญููุฉ ุจู `@login_required`:
- `/` (ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ)
- `/request_analysis`
- `/api/request_analysis`
- `/api/analysis_status/<id>`

### Routes ุงููุญููุฉ ุจู `@admin_required`:
- `/admin_dashboard`
- `/analysis`
- `/line_drawing`
- `/api/admin/requests`
- `/api/admin/process_request/<id>`
- `/api/admin/add_note/<id>`

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ูููุณุชุฎุฏู:
1. **ุฒุฑ ุจุงุฑุฒ ุจุนุฏ ุงูุชุชุจุน**:
   ```
   ๐ ูู ุชุฑูุฏ ุงูุญุตูู ุนูู ุงูุชุญููู ุงูุชูุตูููุ
   [ุฅุฑุณุงู ุทูุจ ุงูุชุญููู]
   ```

2. **ุตูุญุฉ ุฑูุน ุงููููุงุช**:
   - ุฑูุน CSV
   - ุฑูุน 3 ุตูุฑ
   - ูุนุงููุฉ ููุฑูุฉ ููุตูุฑ

3. **ุนุฑุถ ุงูุญุงูุฉ**:
   - ูุชุญุฏุซ ุชููุงุฆูุงู ูู 3 ุซูุงูู
   - ุฑููุฒ ูุงุถุญุฉ ููุญุงูุฉ

4. **ุงููุชุงุฆุฌ**:
   - ุจุทุงูุงุช ุชุญููู ููููุฉ
   - ุฃููููุงุช ูุงุถุญุฉ
   - ููุงุญุธุงุช ุงูุฅุฏุงุฑุฉ (ุฅู ูุฌุฏุช)

### ููุฅุฏุงุฑุฉ:
1. **ููุญุฉ ุชุญูู ุงุญุชุฑุงููุฉ**:
   - ุฅุญุตุงุฆูุงุช ูู ุงูุฃุนูู
   - ุฌุฏูู ุชูุงุนูู
   - ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ

2. **ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช**:
   - ูุนุงูุฌุฉ (ุฃุฒุฑู)
   - ุนุฑุถ (ุฃุฎุถุฑ)
   - ููุงุญุธุฉ (ุจุฑุชูุงูู)

3. **ุชุญุฏูุซ ุชููุงุฆู**:
   - ูู 10 ุซูุงูู

---

## ๐จ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู**:
   - ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู Werkzeug
   - Session-based authentication
   - CSRF protection ุนุจุฑ Flask

2. **ุงูุฃุฏุงุก**:
   - ุงูุชุญููู ูุชู ูู ุงูุฎูููุฉ
   - ูุง ูุคุซุฑ ุนูู ุงูุชุชุจุน
   - ูููู ูุนุงูุฌุฉ ุทูุจุงุช ูุชุนุฏุฏุฉ

3. **ุงูุชุทููุฑ ุงููุณุชูุจูู**:
   - ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช email
   - ุฑูุน ุงููููุงุช ุจุดูู ุชููุงุฆู
   - ุชุตุฏูุฑ ุชูุงุฑูุฑ PDF

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ:
1. ุชุญูู ูู console logs ูู ุงููุชุตูุญ (F12)
2. ุฑุงุฌุน ููู ุงููููุงุช ูู terminal
3. ุชุฃูุฏ ูู ุชูุนูู JavaScript

---

## โ Checklist ุงูุชุดุบูู

- [ ] ุชุซุจูุช Flask ู dependencies
- [ ] ุชุดุบูู `python app.py`
- [ ] ูุชุญ `http://localhost:5000/login`
- [ ] ุชุณุฌูู ุฏุฎูู admin (admin/admin123)
- [ ] ุงุฎุชุจุงุฑ ุฑูุน ููุฏูู
- [ ] ุงุฎุชุจุงุฑ ุทูุจ ุชุญููู
- [ ] ูุนุงูุฌุฉ ุงูุทูุจ ูู Admin Dashboard
- [ ] ุงูุชุญูู ูู ุงุณุชูุงู ุงููุชุงุฆุฌ

---

## ๐ ูุจุฑูู!

ุงูุขู ูุฏูู ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุทูุจุงุช ุงูุชุญููู!
