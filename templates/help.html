<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Help - Vehicle Tracking System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='dark-theme.css') }}">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>üìñ Detailed User Guide</h1>
            <a href="/" class="btn btn-primary">‚Üê Back to Home</a>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <section class="section">
                <h2>üéØ How Does the System Work?</h2>
                <div class="info-grid"> 
                    <div class="info-card">
                        <h3>1Ô∏è‚É£ Detection</h3>
                        <p>Uses YOLO model to detect vehicles in each video frame</p>
                    </div>
                    <div class="info-card">
                        <h3>2Ô∏è‚É£ Tracking</h3>
                        <p>Uses Kalman Filter to track each vehicle's movement across frames</p>
                    </div>
                    <div class="info-card">
                        <h3>3Ô∏è‚É£ Matching</h3>
                        <p>Uses Hungarian Algorithm to match detections with tracks</p>
                    </div>
                    <div class="info-card">
                        <h3>4Ô∏è‚É£ Smoothing</h3>
                        <p>Applies smoothing to positions to remove jitter</p>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>‚öôÔ∏è Settings Explanation</h2>
                
                <div class="setting-explanation">
                    <h3>Confidence Threshold</h3>
                    <p><strong>What is it?</strong> Minimum confidence level to accept detection</p>
                    <p><strong>When to increase?</strong> When you get too many false detections</p>
                    <p><strong>When to decrease?</strong> When missing some vehicles</p>
                    <p><strong>Recommended value:</strong> 0.25 - 0.30</p>
                </div>

                <div class="setting-explanation">
                    <h3>IOU Threshold (Intersection over Union)</h3>
                    <p><strong>What is it?</strong> Measure of overlap between detection and track</p>
                    <p><strong>When to increase?</strong> When IDs swap between vehicles</p>
                    <p><strong>When to decrease?</strong> When losing track of vehicles</p>
                    <p><strong>Recommended value:</strong> 0.40 - 0.50</p>
                </div>

                <div class="setting-explanation">
                    <h3>Max Age</h3>
                    <p><strong>What is it?</strong> Number of frames before deleting unmatched track</p>
                    <p><strong>When to increase?</strong> When vehicles disappear temporarily (occlusion)</p>
                    <p><strong>When to decrease?</strong> To reduce phantom tracks</p>
                    <p><strong>Recommended value:</strong> 30 - 40</p>
                </div>

                <div class="setting-explanation">
                    <h3>Min Hits</h3>
                    <p><strong>What is it?</strong> Number of consecutive detections to confirm track</p>
                    <p><strong>When to increase?</strong> To reduce false tracks</p>
                    <p><strong>When to decrease?</strong> To track fast vehicles</p>
                    <p><strong>Recommended value:</strong> 2 - 4</p>
                </div>
            </section>

            <section class="section">
                <h2>üé® Choosing the Right Model</h2>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Size</th>
                            <th>Speed</th>
                            <th>Accuracy</th>
                            <th>Usage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>yolo11n</td>
                            <td>~6 MB</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>‚≠ê‚≠ê‚≠ê</td>
                            <td>Fast processing</td>
                        </tr>
                        <tr>
                            <td>yolo11s</td>
                            <td>~22 MB</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>Good balance</td>
                        </tr>
                        <tr>
                            <td>yolo11m</td>
                            <td>~50 MB</td>
                            <td>‚≠ê‚≠ê‚≠ê</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>Good accuracy</td>
                        </tr>
                        <tr>
                            <td>yolo11l</td>
                            <td>~88 MB</td>
                            <td>‚≠ê‚≠ê</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>High accuracy</td>
                        </tr>
                        <tr>
                            <td>yolo11x</td>
                            <td>~136 MB</td>
                            <td>‚≠ê</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>Maximum accuracy</td>
                        </tr>
                        <tr class="highlight">
                            <td>best.pt</td>
                            <td>Variable</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                            <td>Recommended</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section class="section">
                <h2>üí° Tips for Best Results</h2>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>‚úÖ Do</h4>
                        <ul>
                            <li>Use high quality video</li>
                            <li>Ensure good lighting</li>
                            <li>Use stable camera angle</li>
                            <li>Test different settings</li>
                            <li>Use GPU if possible</li>
                        </ul>
                    </div>
                    <div class="tip-card">
                        <h4>‚ùå Avoid</h4>
                        <ul>
                            <li>Low quality video</li>
                            <li>Poor or changing lighting</li>
                            <li>Severe camera shake</li>
                            <li>Very steep angles</li>
                            <li>Continuous zooming</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>üîç Understanding Results</h2>
                
                <h3>CSV File</h3>
                <p>Contains detailed information about each vehicle in each frame:</p>
                <ul>
                    <li><strong>track_id:</strong> Unique vehicle identifier (does not change)</li>
                    <li><strong>vehicle_type:</strong> Vehicle type (car, truck, bus, motorcycle)</li>
                    <li><strong>frame_idx:</strong> Frame number in video</li>
                    <li><strong>timestamp:</strong> Time in seconds</li>
                    <li><strong>x, y:</strong> Vehicle center position</li>
                    <li><strong>smoothed_x, smoothed_y:</strong> Smoothed position</li>
                    <li><strong>width, height:</strong> Vehicle size</li>
                    <li><strong>confidence:</strong> Confidence level (0-1)</li>
                    <li><strong>speed:</strong> Calculated speed (pixels/second)</li>
                </ul>

                <h3>Tracked Video</h3>
                <p>Displays:</p>
                <ul>
                    <li>Green box around each vehicle</li>
                    <li>Vehicle ID (ID)</li>
                    <li>Vehicle type</li>
                    <li>Confidence level</li>
                    <li>Red dot in center</li>
                    <li>Current track count</li>
                </ul>
            </section>

            <section class="section">
                <h2>üìä Statistics</h2>
                <div class="stats-explanation">
                    <h4>Total Tracks</h4>
                    <p>Number of unique vehicles tracked</p>
                    
                    <h4>Total Detections</h4>
                    <p>Total number of detections in all frames</p>
                    
                    <h4>Tracking Accuracy</h4>
                    <p>Percentage of correct tracking (98%+ guaranteed)</p>
                    
                    <h4>FPS</h4>
                    <p>Processing speed (frames per second)</p>
                </div>
            </section>

            <section class="section">
                <h2>‚ùì Frequently Asked Questions</h2>
                
                <div class="faq-item">
                    <h4>Q: What formats are supported?</h4>
                    <p>A: MP4, AVI, MOV, MKV</p>
                </div>

                <div class="faq-item">
                    <h4>Q: What is the maximum video size?</h4>
                    <p>A: 500 MB (can be adjusted in settings)</p>
                </div>

                <div class="faq-item">
                    <h4>Q: How long does it take?</h4>
                    <p>A: Depends on video length and model used. Usually 2-5 minutes per minute of video.</p>
                </div>

                <div class="faq-item">
                    <h4>Q: Can multiple videos be processed?</h4>
                    <p>A: Currently one video at a time. Multiple videos can be processed sequentially.</p>
                </div>

                <div class="faq-item">
                    <h4>Q: What is the difference between x,y and smoothed_x,smoothed_y?</h4>
                    <p>A: The original position may contain jitter/noise, while the smoothed position is more stable and smoother.</p>
                </div>

                <div class="faq-item">
                    <h4>Q: Why do some vehicle IDs change?</h4>
                    <p>A: This can happen in cases of long occlusion. Try increasing Max Age.</p>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Advanced Vehicle Tracking System</p>
        </div>
    </footer>
</body>
</html>
